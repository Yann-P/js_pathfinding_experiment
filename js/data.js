// Generated by CoffeeScript 1.3.3
(function() {

  define([], function() {
    window.Data = {
      store: {},
      files: ['sprites', 'levels', 'levelselector', 'zombies'],
      preload: [],
      load: function(callback) {
        var _this = this;
        return this.getFiles(function() {
          return _this.preloadImages(callback);
        });
      },
      loadImageInCache: function(url, callback) {
        var image;
        image = new Image();
        image.onload = callback;
        return image.src = url;
      },
      preloadImages: function(callback) {
        return callback();
      },
      getFiles: function(callback, index) {
        var file, url,
          _this = this;
        if (index == null) {
          index = 0;
        }
        file = this.files[index];
        url = "resources/" + file + ".json";
        return $.ajax({
          dataType: "json",
          url: url,
          cache: false,
          success: function(data) {
            _this.store[file] = data;
            if (index === _this.files.length - 1) {
              return callback();
            } else {
              return _this.getFiles(callback, index + 1);
            }
          },
          error: function() {
            return console.log("Error loading JSON");
          }
        });
      }
    };
    return Data;
  });

}).call(this);
