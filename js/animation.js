// Generated by CoffeeScript 1.3.3
(function() {

  define(['data'], function(Data) {
    var Animation;
    Animation = (function() {

      function Animation(name, frames, interval, sprite) {
        this.name;
        this.sprite = sprite;
        this.ticks = 0;
        this.currentTimeout = null;
        this.frames = frames;
        this.interval = interval || 100;
      }

      Animation.prototype.start = function() {
        this.stop();
        return this.tick();
      };

      Animation.prototype.tick = function() {
        var frameid,
          _this = this;
        frameid = this.frames[this.ticks++ % this.frames.length];
        this.sprite.setFrame(frameid);
        return this.currentTimeout = setTimeout(function() {
          return _this.tick();
        }, this.interval);
      };

      Animation.prototype.stop = function() {
        this.ticks = 0;
        return clearTimeout(this.currentTimeout);
      };

      return Animation;

    })();
    return Animation;
  });

}).call(this);
